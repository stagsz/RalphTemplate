# HazOp Assistant - Production Environment Configuration
# Copy this file to .env.production and fill in production values
# SECURITY: Never commit .env.production to version control

# =============================================================================
# PROJECT SETTINGS
# =============================================================================
PROJECT_NAME=hazop
VERSION=latest

# Optional: Container registry prefix (e.g., ghcr.io/myorg/)
REGISTRY=

# =============================================================================
# NETWORK PORTS
# =============================================================================
# HTTP port for the main application (default: 80)
HTTP_PORT=80

# Grafana monitoring dashboard port (default: 3001)
GRAFANA_PORT=3001

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# SECURITY: Use strong, unique passwords in production
DB_USER=hazop_prod
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
DB_NAME=hazop_prod

# =============================================================================
# CACHE (Redis)
# =============================================================================
# Redis is configured internally, no external URL needed

# =============================================================================
# OBJECT STORAGE (MinIO)
# =============================================================================
# SECURITY: Use strong, unique credentials in production
MINIO_ROOT_USER=hazop_minio_admin
MINIO_ROOT_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
MINIO_BUCKET=hazop-documents

# =============================================================================
# MESSAGE QUEUE (RabbitMQ)
# =============================================================================
# SECURITY: Use strong, unique credentials in production
RABBITMQ_USER=hazop_rabbit
RABBITMQ_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# =============================================================================
# AUTHENTICATION (JWT with RS256)
# =============================================================================
# Generate RSA key pair with:
#   openssl genrsa -out private.pem 2048
#   openssl rsa -in private.pem -pubout -out public.pem
#
# Convert to single-line format (replace newlines with \n):
#   awk 'NF {sub(/\r/, ""); printf "%s\\n",$0;}' private.pem
#   awk 'NF {sub(/\r/, ""); printf "%s\\n",$0;}' public.pem

JWT_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----
JWT_PUBLIC_KEY=-----BEGIN PUBLIC KEY-----\nYOUR_PUBLIC_KEY_HERE\n-----END PUBLIC KEY-----
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
JWT_ISSUER=hazop-assistant
JWT_AUDIENCE=hazop-api

# =============================================================================
# LOGGING
# =============================================================================
# Log level: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# =============================================================================
# MONITORING (Grafana)
# =============================================================================
# SECURITY: Use strong, unique credentials for admin access
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
GRAFANA_ROOT_URL=http://localhost:3001

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
#
# [ ] All passwords are changed from defaults
# [ ] JWT keys are generated and configured
# [ ] SSL/TLS is configured (add HTTPS nginx config or use load balancer)
# [ ] Firewall rules restrict access to internal services
# [ ] Backup strategy is in place for volumes
# [ ] Log rotation is configured
# [ ] Resource limits are appropriate for your hardware
# [ ] Health checks are verified working
# [ ] Monitoring dashboards are configured
# [ ] Alerting rules are set up in Prometheus/Grafana
